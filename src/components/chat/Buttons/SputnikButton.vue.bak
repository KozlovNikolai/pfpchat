<template>
  <q-item-label
    class="ch_text_title text-left"
    dense
    flat
    :disable="store.getIsOpen"
    :label="$t('chat')"
    @click.stop="openChat"
  >
    <q-icon name="sym_o_chat_bubble" color="#646567" size="22px" />
  </q-item-label>
</template>

<script setup lang="ts">
import { useQuasar } from 'quasar';
import { useChatStore } from 'src/stores/chat';
import ChatDialog from 'src/components/chat/ChatDialog.vue';

const store = useChatStore(),
  $q = useQuasar();

const openChat = () => {
  if (!store.getIsOpen) {
    $q.dialog({
      component: ChatDialog,
      componentProps: {
        showCallback: () => store.setIsOpen(true),
        hideCallback: () => store.setIsOpen(false),
      },
    });
  }
};
</script>

<style lang="scss">
@import '../../../css/chat_app.scss';
</style>
